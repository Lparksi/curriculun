{
  "project": {
    "name": "Curriculum",
    "description": "基于 Flutter 开发的跨平台智能课程管理应用",
    "version": "1.0.0+13",
    "platforms": ["Android", "Web"],
    "tech_stack": {
      "framework": "Flutter",
      "language": "Dart",
      "flutter_version": "3.35.6",
      "dart_version": "3.9.2"
    }
  },
  "documentation": {
    "root": "CLAUDE.md",
    "last_updated": "2025-10-23T10:00:00Z",
    "modules": [
      {
        "name": "models",
        "path": "lib/models/",
        "doc_path": "lib/models/CLAUDE.md",
        "description": "数据模型层 - 定义应用的核心数据结构",
        "key_files": [
          "course.dart",
          "semester_settings.dart",
          "time_table.dart",
          "webdav_config.dart",
          "firebase_consent.dart",
          "privacy_policy.dart"
        ],
        "file_count": 6
      },
      {
        "name": "services",
        "path": "lib/services/",
        "doc_path": "lib/services/CLAUDE.md",
        "description": "业务逻辑服务层 - 封装业务逻辑、数据处理、外部资源交互",
        "key_files": [
          "course_service.dart",
          "settings_service.dart",
          "time_table_service.dart",
          "export_service.dart",
          "webdav_service.dart",
          "webdav_config_service.dart",
          "app_theme_service.dart",
          "share_service.dart",
          "firebase_init_service.dart",
          "firebase_consent_service.dart",
          "config_version_manager.dart",
          "display_preferences_service.dart"
        ],
        "file_count": 12,
        "sub_modules": [
          {
            "name": "course_import",
            "path": "lib/services/course_import/",
            "doc_path": "lib/services/course_import/CLAUDE.md",
            "description": "HTML 课程导入子模块 - 从教务系统页面解析并导入课程数据",
            "key_files": [
              "course_html_import_service.dart",
              "parsers/course_html_parser.dart",
              "parsers/course_html_parser_registry.dart",
              "parsers/kingosoft_course_parser.dart",
              "models/course_import_models.dart",
              "utils/html_normalizer.dart"
            ],
            "file_count": 6
          }
        ]
      },
      {
        "name": "pages",
        "path": "lib/pages/",
        "doc_path": "lib/pages/CLAUDE.md",
        "description": "页面组件层 - 应用的完整页面组件，管理页面级状态和业务流程",
        "key_files": [
          "course_table_page.dart",
          "course_management_page.dart",
          "semester_management_page.dart",
          "semester_settings_page.dart",
          "time_table_management_page.dart",
          "data_management_page.dart",
          "webdav_backup_page.dart",
          "course_import_webview_page.dart",
          "privacy_policy_page.dart",
          "help_page.dart"
        ],
        "file_count": 10
      },
      {
        "name": "widgets",
        "path": "lib/widgets/",
        "doc_path": "lib/widgets/CLAUDE.md",
        "description": "可复用组件层 - Dialog、表单等可复用 UI 组件",
        "key_files": [
          "course_detail_dialog.dart",
          "course_edit_dialog.dart",
          "time_table_edit_dialog.dart",
          "semester_edit_dialog.dart",
          "course_table_share_dialog.dart",
          "firebase_consent_dialog.dart"
        ],
        "file_count": 6
      },
      {
        "name": "utils",
        "path": "lib/utils/",
        "doc_path": "lib/utils/CLAUDE.md",
        "description": "工具函数层 - 提供通用工具、算法、常量定义",
        "key_files": [
          "course_colors.dart",
          "performance_tracker.dart",
          "material_icon_loader.dart",
          "web_file_utils.dart",
          "web_file_utils_web.dart",
          "web_file_utils_stub.dart"
        ],
        "file_count": 6
      }
    ]
  },
  "core_features": [
    "可视化周历课程表展示",
    "多学期管理与自动切换",
    "完整的课程 CRUD 操作",
    "智能颜色分配与高辨识度设计",
    "自定义时间表管理",
    "本地数据持久化存储 + WebDAV 云端备份",
    "多语言支持 (中文/英文)",
    "亮色/暗色主题切换",
    "Firebase 性能监控与崩溃报告",
    "数据导入/导出（支持版本管理）",
    "HTML 课程表导入（支持多教务系统）"
  ],
  "dependencies": {
    "core": [
      "flutter",
      "flutter_localizations"
    ],
    "production": [
      "shared_preferences@^2.3.3",
      "file_picker@^10.3.3",
      "path_provider@^2.1.5",
      "share_plus@^12.0.0",
      "webdav_client@^1.2.2",
      "firebase_core@^3.12.0",
      "firebase_crashlytics@^4.2.0",
      "firebase_performance@^0.10.0+8",
      "package_info_plus@^8.1.2",
      "markdown_widget@^2.3.2+8",
      "webview_flutter@^4.10.0",
      "html@^0.15.4",
      "web@^1.1.1"
    ],
    "dev": [
      "flutter_test",
      "flutter_lints@^6.0.0"
    ]
  },
  "storage": {
    "shared_preferences_keys": [
      "saved_courses",
      "semesters_list",
      "active_semester_id",
      "time_tables",
      "active_time_table_id",
      "app_theme_mode",
      "webdav_config",
      "firebase_consent",
      "display_preferences"
    ],
    "assets": [
      "assets/courses.json",
      "assets/fonts/MaterialIcons-Regular.otf"
    ]
  },
  "testing": {
    "test_directory": "test/",
    "test_files": [
      "course_model_test.dart",
      "semester_settings_model_test.dart",
      "time_table_model_test.dart",
      "course_service_test.dart",
      "settings_service_test.dart",
      "time_table_service_test.dart",
      "export_service_test.dart",
      "webdav_service_test.dart",
      "config_version_manager_test.dart",
      "app_theme_service_test.dart",
      "firebase_consent_service_test.dart",
      "display_preferences_service_test.dart",
      "course_html_import_service_test.dart",
      "aynu_course_parser_test.dart",
      "utils/course_colors_test.dart",
      "utils/performance_tracker_test.dart",
      "widget_test.dart"
    ],
    "coverage": "单元测试覆盖核心业务逻辑、数据模型、工具类"
  },
  "architecture": {
    "pattern": "Layered Architecture (分层架构)",
    "layers": {
      "presentation": {
        "description": "应用层 - 用户交互、UI 渲染、路由导航",
        "modules": ["pages", "widgets"],
        "state_management": "StatefulWidget + setState"
      },
      "business": {
        "description": "服务层 - 业务逻辑、数据处理、外部交互",
        "modules": ["services"],
        "design": "静态方法设计，支持异步操作"
      },
      "data": {
        "description": "数据层 - 数据实体定义、序列化/反序列化",
        "modules": ["models"],
        "design": "不可变模型、工厂构造函数"
      },
      "utility": {
        "description": "工具层 - 通用工具、算法、常量",
        "modules": ["utils"],
        "design": "无状态、纯函数设计"
      }
    },
    "dependency_rule": "单向依赖：上层依赖下层，下层不依赖上层"
  },
  "statistics": {
    "total_modules": 6,
    "total_dart_files": 46,
    "total_test_files": 17,
    "documentation_coverage": "100% (核心模块)",
    "platforms_supported": 2
  },
  "metadata": {
    "generated_by": "init-project AI Agent",
    "generated_at": "2025-10-23T10:00:00Z",
    "schema_version": "1.0",
    "maintainer": "查看根文档获取项目信息"
  }
}
